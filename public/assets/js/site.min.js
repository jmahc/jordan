var Jmac={};Jmac.development=!1,Jmac.debug=!1,Jmac.global={},Jmac.global.init=function(){var e=this;e.init_variables(),e.init_methods()},Jmac.global.init_variables=function(){},Jmac.global.init_methods=function(){console.log(";_; 0_o"),$(function(){function e(e){var n="visible",a="hidden",r={focus:n,focusin:n,pageshow:n,blur:a,focusout:a,pagehide:a};e=e||window.event,e.type in r?(o=t,$(document).attr("title",o)):(o=this[i]?"Come back!":t,$(document).attr("title",o))}var o,i="hidden",t=document.title;i in document?document.addEventListener("visibilitychange",e):(i="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(i="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(i="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,void 0!==document[i]&&e({type:document[i]?"blur":"focus"})})},Jmac.nav={},Jmac.nav.init=function(){var e=this;e.init_variables(),e.init_methods()},Jmac.nav.init_variables=function(){var e=this;e.$page=$("body"),e.$nav=$("nav")},Jmac.nav.init_methods=function(){var e=this;e.$nav.affix(),$(document).ready(function(){$('[data-menu="offcanvas"]').on("click",function(){$(".row-offcanvas").toggleClass("sidebar-active"),$("#navbar").toggleClass("sidebar-show")})}),e.$page.scrollspy({target:"#navbar"}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}})},Jmac.home={},Jmac.home.init=function(){var e=this;e.init_variables(),e.init_methods()},Jmac.home.init_variables=function(){var e=this;e.$nav=$("nav"),e.$arrow=$(".arrow.bounce"),e.$page=$("body"),e.$hero=$(".homepage-hero-module"),e.$navBar=$("#navbar"),e.$modal=$("#myModal"),e.$modalTrigger=$(".icon-modal"),e.$modalTitle=$(".modal-title"),e.$modalImage=$(".modal-image"),e.$modalLink=$(".modal-link"),e.$projects=$("#projects"),e.$welcome=$(".welcome"),e.scrollDurationProjects=e.$projects.height(),e.controllerProjects=new ScrollMagic.Controller({globalSceneOptions:{duration:e.scrollDurationProjects}}),e.scrollDurationVideo=400,e.controllerVideo=new ScrollMagic.Controller({globalSceneOptions:{duration:e.scrollDurationVideo}})},Jmac.home.init_methods=function(){function e(){var e=$(window).height()+5,o=parseInt(e)+"px";t.$hero.css("height",o)}function o(e){$(e).each(function(){$(this).data("height",$(this).height()),$(this).data("width",$(this).width())}),i(e)}function i(e){var o,i,t=$(window).width(),n=$(window).height()+5,a=n/t;$(e).each(function(){var e=$(this).data("height")/$(this).data("width");if($(this).width(t),1e3>t){if(i=n,o=i/e,$(this).hasClass("no-stretch")){var r=300,c=o+r,d=c*i/o;o=c,i=d,$(this).css({"margin-top":0,"margin-left":-(o-t)/2+"px"})}$(this).width(o).height(i)}else t>1e3&&.8>a&&a>.58&&(i=n,o=i/e,o=i/e+200,$(this).css({"margin-top":0,"margin-left":-(o-t)/2+"px"}),$(this).width(o).height(i));$(".homepage-hero-module .video-container video").addClass("fadeIn animated")})}var t=this;new ScrollMagic.Scene({triggerElement:"#bigHalfCircle"}).setClassToggle(".portfolio-item","fade-in").addTo(t.controllerProjects),new ScrollMagic.Scene({triggerElement:".welcome"}).setClassToggle(".navbar.navbar-inverse","scroll-mag").addTo(t.controllerVideo),$(function(){function a(e){$(e).each(function(){$("<img/>")[0].src=this})}a(["img/web/2-com.png","img/web/bulwark.png","img/web/columbia.png","img/web/cub.png","img/web/horace.png","img/web/red.png","img/web/vf.png","img/web/yanmar.png"]),t.$nav.hasClass("affix")&&t.$arrow.fadeOut(200),e(),o(".video-container .poster img"),o(".video-container .filter"),o(".video-container video"),$(window).on("resize",function(){e(),i(".video-container .poster img"),i(".video-container .filter"),i(".video-container video")}),t.$modalTrigger.on("click",function(){var e=$(this).closest(".item-information"),o=n(e);t.$modalTitle.text(o.title),t.$modalLink.attr("href",o.link).text(o.link),t.$modalImage.attr("src",o.image)})});var n=function(e){var o={},i=e.find("h4").text(),t=e.find("h4").data("link"),n=i.split(" "),a=n[0],r="img/web/"+a.toLowerCase()+".png";return o.title=i,o.link=t,o.image=r,o};Jmac.nav.init()},Jmac.weather={},Jmac.weather.init=function(){var e=this;e.init_variables(),e.init_methods()},Jmac.weather.init_variables=function(){var e=this;e.$lookupButton=$("#lookup_coordinates"),e.$latInput=$("#Latitude"),e.$lngInput=$("#Longitude"),e.baseUrl="https://maps.googleapis.com/maps/api/geocode/json?address=",e.$city=$("#City"),e.$state=$("#State"),e.$postalCode=$("#Zip"),e.$form=$(".user-search-weather"),e.$footer=$(".footer"),e.$animation=$(".animation"),e.$userLocation=$(".weather-location"),e.$currentText=$(".weather-current"),e.$userSearch=$("div.user-search-weather"),e.$userInputLocation=$("#input_location"),e.$load=$(".loading-overlay"),e.$go=$("#input_go"),e.nightTime="19:20",e.morningTime="06:20",e.postLocation=function(){}},Jmac.weather.init_methods=function(){function e(){var e=s.location.localtime.split(" ")[1];return 4===e.length&&(e="0"+e),e>=l.nightTime?($(".light").addClass("moon"),$(".sky").addClass("night"),!1):e<=l.morningTime?($(".light").addClass("moon"),$(".sky").addClass("night"),!1):($(".light").addClass("sun"),$(".squiggle-container").show(),$(".sky").addClass("day"),!0)}function o(){var e=h.toLowerCase();if(e.indexOf("overcast")>-1){$(".clouds").addClass("cloudy"),$(".sky").addClass("overcast");for(var o=1;8>o;o++)$(".clouds").append("<div class='cloud'></div>")}else if(e.indexOf("cloudy")>-1){$(".clouds").addClass("cloudy");for(var o=1;12>o;o++)$(".clouds").append("<div class='cloud'></div>")}else if(e.indexOf("partly")>-1){$(".clouds").addClass("cloudy");for(var o=1;5>o;o++)$(".clouds").append("<div class='cloud'></div>")}}function i(){h=s.current.condition.text;var i=$.grep(y,function(e){return e.code==s.current.condition.code}),t={};t=i[0];var n=e();return o(),n===!0?(console.log("Yes, it ISDAY"),g=!0,t.day):(console.log("NO, it IS NOT DAY"),g=!1,u="night",t.night)}function t(){l.$animation.show(),n()}function n(){l.$userLocation.text("Current weather for "+s.location.name),l.$currentText.text(s.current.condition.text+" during the "+u),i()}function a(){l.$go.show().attr("onclick","Jmac.weather.postLocation()")}function r(){l.$userSearch.show()}function c(){navigator.geolocation?(l.$load.show(),navigator.geolocation.getCurrentPosition(function(e){d=e.coords.latitude+","+e.coords.longitude,l.$load.hide(),a()},function(e){l.$load.hide(),r()},{timeout:5e3})):(alert("Geolocation is not supported by this browser."),r())}var d,s,h,l=this,g=!1,u="day",y=[{code:1e3,day:"Sunny",night:"Clear",icon:113},{code:1003,day:"Partly Cloudy",night:"Partly Cloudy",icon:116},{code:1006,day:"Cloudy",night:"Cloudy",icon:119},{code:1009,day:"Overcast",night:"Overcast",icon:122},{code:1030,day:"Mist",night:"Mist",icon:143},{code:1063,day:"Patchy rain nearby",night:"Patchy rain nearby",icon:176},{code:1066,day:"Patchy snow nearby",night:"Patchy snow nearby",icon:179},{code:1069,day:"Patchy sleet nearby",night:"Patchy sleet nearby",icon:182},{code:1072,day:"Patchy freezing drizzle nearby",night:"Patchy freezing drizzle nearby",icon:185},{code:1087,day:"Thundery outbreaks in nearby",night:"Thundery outbreaks in nearby",icon:200},{code:1114,day:"Blowing snow",night:"Blowing snow",icon:227},{code:1117,day:"Blizzard",night:"Blizzard",icon:230},{code:1135,day:"Fog",night:"Fog",icon:248},{code:1147,day:"Freezing fog",night:"Freezing fog",icon:260},{code:1150,day:"Patchy light drizzle",night:"Patchy light drizzle",icon:263},{code:1153,day:"Light drizzle",night:"Light drizzle",icon:266},{code:1168,day:"Freezing drizzle",night:"Freezing drizzle",icon:281},{code:1171,day:"Heavy freezing drizzle",night:"Heavy freezing drizzle",icon:284},{code:1180,day:"Patchy light rain",night:"Patchy light rain",icon:293},{code:1183,day:"Light rain",night:"Light rain",icon:296},{code:1186,day:"Moderate rain at times",night:"Moderate rain at times",icon:299},{code:1189,day:"Moderate rain",night:"Moderate rain",icon:302},{code:1192,day:"Heavy rain at times",night:"Heavy rain at times",icon:305},{code:1195,day:"Heavy rain",night:"Heavy rain",icon:308},{code:1198,day:"Light freezing rain",night:"Light freezing rain",icon:311},{code:1201,day:"Moderate or heavy freezing rain",night:"Moderate or heavy freezing rain",icon:314},{code:1204,day:"Light sleet",night:"Light sleet",icon:317},{code:1207,day:"Moderate or heavy sleet",night:"Moderate or heavy sleet",icon:320},{code:1210,day:"Patchy light snow",night:"Patchy light snow",icon:323},{code:1213,day:"Light snow",night:"Light snow",icon:326},{code:1216,day:"Patchy moderate snow",night:"Patchy moderate snow",icon:329},{code:1219,day:"Moderate snow",night:"Moderate snow",icon:332},{code:1222,day:"Patchy heavy snow",night:"Patchy heavy snow",icon:335},{code:1225,day:"Heavy snow",night:"Heavy snow",icon:338},{code:1237,day:"Ice pellets",night:"Ice pellets",icon:350},{code:1240,day:"Light rain shower",night:"Light rain shower",icon:353},{code:1243,day:"Moderate or heavy rain shower",night:"Moderate or heavy rain shower",icon:356},{code:1246,day:"Torrential rain shower",night:"Torrential rain shower",icon:359},{code:1249,day:"Light sleet showers",night:"Light sleet showers",icon:362},{code:1252,day:"Moderate or heavy sleet showers",night:"Moderate or heavy sleet showers",icon:365},{code:1255,day:"Light snow showers",night:"Light snow showers",icon:368},{code:1258,day:"Moderate or heavy snow showers",night:"Moderate or heavy snow showers",icon:371},{code:1261,day:"Light showers of ice pellets",night:"Light showers of ice pellets",icon:374},{code:1264,day:"Moderate or heavy showers of ice pellets",night:"Moderate or heavy showers of ice pellets",icon:377},{code:1273,day:"Patchy light rain in area with thunder",night:"Patchy light rain in area with thunder",icon:386},{code:1276,day:"Moderate or heavy rain in area with thunder",night:"Moderate or heavy rain in area with thunder",icon:389},{code:1279,day:"Patchy light snow in area with thunder",night:"Patchy light snow in area with thunder",icon:392},{code:1282,day:"Moderate or heavy snow in area with thunder",night:"Moderate or heavy snow in area with thunder",icon:395}];Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+this.getHours()+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()},l.$lookupButton.on("click",function(){var e=l.$city.val()+",  "+l.$postalCode.val(),o=encodeURIComponent(e);$.getJSON(l.baseUrl+o,function(e){if(e&&e.results.length>0){var o=e.results[0].geometry.location.lat,i=e.results[0].geometry.location.lng;d=o+","+i}else alert("Could not determine geo-coordinates for that address.  Please enter them manually.")}).done(function(){console.log("The query is now"+d),l.$form.hide(),t()})}),l.$footer.addClass("weather-footer"),l.postLocation=function(){var e={location:d};console.log(d),$.ajax({type:"POST",data:JSON.stringify(e),contentType:"application/json",url:"/getweather",success:function(e){console.log("success"),console.log("The data is"+e),s=e,t()}})},$(function(){Jmac.nav.init(),c()})};